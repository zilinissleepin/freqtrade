# HarmonicDivergence ç­–ç•¥è¯¦ç»†åˆ†æ

## ğŸ“Š ç­–ç•¥æ¦‚è¿°

**HarmonicDivergence** æ˜¯ä¸€ä¸ªåŸºäº**èƒŒç¦»ï¼ˆDivergenceï¼‰**åŸç†çš„é‡åŒ–äº¤æ˜“ç­–ç•¥ï¼Œé€šè¿‡æ£€æµ‹ä»·æ ¼ä¸æŠ€æœ¯æŒ‡æ ‡ä¹‹é—´çš„èƒŒç¦»æ¥å¯»æ‰¾åè½¬æœºä¼šã€‚

---

## ğŸ¯ æ ¸å¿ƒåŸç†

### **ä»€ä¹ˆæ˜¯èƒŒç¦»ï¼ˆDivergenceï¼‰ï¼Ÿ**

èƒŒç¦»æ˜¯æŒ‡**ä»·æ ¼èµ°åŠ¿**ä¸**æŠ€æœ¯æŒ‡æ ‡**èµ°åŠ¿ä¸ä¸€è‡´çš„ç°è±¡ï¼š

#### **1. çœ‹æ¶¨èƒŒç¦»ï¼ˆBullish Divergenceï¼‰** ğŸŸ¢
- **ä»·æ ¼**ï¼šåˆ›æ–°ä½ï¼ˆLower Lowï¼‰
- **æŒ‡æ ‡**ï¼šèµ°é«˜ï¼ˆHigher Lowï¼‰
- **å«ä¹‰**ï¼šä¸‹è·ŒåŠ¨èƒ½å‡å¼±ï¼Œå¯èƒ½åè½¬ä¸Šæ¶¨
- **äº¤æ˜“ä¿¡å·**ï¼šä¹°å…¥

**ç¤ºä¾‹ï¼š**
```
ä»·æ ¼:  â†“ 100 â†’ 95 â†’ 90 â† åˆ›æ–°ä½
æŒ‡æ ‡:  â†‘  30 â†’ 32 â†’ 35 â† èµ°é«˜ï¼ˆèƒŒç¦»ï¼ï¼‰
ç»“è®º: å¯èƒ½è§¦åº•åå¼¹
```

#### **2. çœ‹è·ŒèƒŒç¦»ï¼ˆBearish Divergenceï¼‰** ğŸ”´
- **ä»·æ ¼**ï¼šåˆ›æ–°é«˜ï¼ˆHigher Highï¼‰
- **æŒ‡æ ‡**ï¼šèµ°ä½ï¼ˆLower Highï¼‰
- **å«ä¹‰**ï¼šä¸Šæ¶¨åŠ¨èƒ½å‡å¼±ï¼Œå¯èƒ½åè½¬ä¸‹è·Œ
- **äº¤æ˜“ä¿¡å·**ï¼šå–å‡º

**ç¤ºä¾‹ï¼š**
```
ä»·æ ¼:  â†‘ 100 â†’ 105 â†’ 110 â† åˆ›æ–°é«˜
æŒ‡æ ‡:  â†“  70 â†’  68 â†’  65 â† èµ°ä½ï¼ˆèƒŒç¦»ï¼ï¼‰
ç»“è®º: å¯èƒ½è§é¡¶å›è½
```

---

## ğŸ”§ ç­–ç•¥é…ç½®å‚æ•°

### **1. åŸºç¡€å‚æ•°**

```python
timeframe = '15m'              # æ—¶é—´å‘¨æœŸï¼š15åˆ†é’Ÿ
minimal_roi = {                # åˆ†é˜¶æ®µæ­¢ç›ˆ
    "0": 0.05,                 # ä»»ä½•æ—¶å€™åˆ©æ¶¦ â‰¥5% å°±å–å‡º
    "30": 0.03,                # 30åˆ†é’Ÿååˆ©æ¶¦ â‰¥3% å°±å–å‡º
    "60": 0.02,                # 60åˆ†é’Ÿååˆ©æ¶¦ â‰¥2% å°±å–å‡º
    "300": 0.01,               # 300åˆ†é’Ÿ(5å°æ—¶)ååˆ©æ¶¦ â‰¥1% å°±å–å‡º
}
stoploss = -0.5                # å›ºå®šæ­¢æŸï¼š-50%ï¼ˆä½†å®é™…ä½¿ç”¨åŠ¨æ€æ­¢æŸï¼‰
```

### **2. è¿½è¸ªæ­¢æŸ**

```python
trailing_stop = True                    # å¯ç”¨è¿½è¸ªæ­¢æŸ
trailing_stop_positive = 0.007          # ç›ˆåˆ© >0.7% åå¯ç”¨è¿½è¸ª
trailing_stop_positive_offset = 0.015   # ç›ˆåˆ©è¾¾åˆ° 1.5% æ‰è§¦å‘è¿½è¸ª
trailing_only_offset_is_reached = True  # åªæœ‰è¾¾åˆ°offsetæ‰è¿½è¸ª
```

**å·¥ä½œåŸç†ï¼š**
1. å½“åˆ©æ¶¦è¾¾åˆ° **1.5%** æ—¶ï¼Œå¼€å§‹è¿½è¸ªæ­¢æŸ
2. æ­¢æŸä»·ä½è·Ÿéšæœ€é«˜ä»·ï¼Œä¿æŒ **0.7%** çš„è·ç¦»
3. å¦‚æœä»·æ ¼å›æ’¤è¶…è¿‡ 0.7%ï¼Œè§¦å‘æ­¢æŸ

---

## ğŸ“ˆ æŠ€æœ¯æŒ‡æ ‡ä½“ç³»

ç­–ç•¥ä½¿ç”¨äº† **11 ä¸ªæŠ€æœ¯æŒ‡æ ‡** æ¥æ£€æµ‹èƒŒç¦»ï¼š

### **åŠ¨é‡æŒ‡æ ‡ï¼ˆMomentum Indicatorsï¼‰**

| æŒ‡æ ‡ | å…¨å | ç”¨é€” | èŒƒå›´ |
|------|------|------|------|
| **RSI** | ç›¸å¯¹å¼ºå¼±æŒ‡æ•° | è¶…ä¹°è¶…å– | 0-100 |
| **Stoch** | éšæœºæŒ‡æ ‡ | è¶…ä¹°è¶…å– | 0-100 |
| **ROC** | å˜åŒ–ç‡ | ä»·æ ¼å˜åŠ¨é€Ÿåº¦ | -âˆ to +âˆ |
| **UO** | ç»ˆææŒ¯è¡å™¨ | å¤šå‘¨æœŸåŠ¨é‡ | 0-100 |
| **AO** | åŠ¨é‡æŒ¯è¡å™¨ | ä»·æ ¼åŠ¨é‡ | -âˆ to +âˆ |
| **MACD** | æŒ‡æ•°å¹³æ»‘ç§»åŠ¨å¹³å‡çº¿ | è¶‹åŠ¿æ–¹å‘ | -âˆ to +âˆ |
| **CCI** | å•†å“é€šé“æŒ‡æ•° | è¶…ä¹°è¶…å– | -âˆ to +âˆ |
| **MFI** | èµ„é‡‘æµé‡æŒ‡æ•° | èµ„é‡‘æµå‘ | 0-100 |

### **æˆäº¤é‡æŒ‡æ ‡**

| æŒ‡æ ‡ | å…¨å | ç”¨é€” |
|------|------|------|
| **CMF** | è”¡é‡‘èµ„é‡‘æµ | èµ„é‡‘æµå‘å¼ºåº¦ |
| **OBV** | èƒ½é‡æ½® | ç´¯è®¡æˆäº¤é‡ |

### **è¶‹åŠ¿æŒ‡æ ‡**

| æŒ‡æ ‡ | å…¨å | ç”¨é€” |
|------|------|------|
| **ADX** | å¹³å‡è¶‹å‘æŒ‡æ•° | è¶‹åŠ¿å¼ºåº¦ |

### **è¾…åŠ©æŒ‡æ ‡**

```python
# å¸ƒæ—å¸¦ï¼ˆBollinger Bandsï¼‰
bollinger_upperband = EMA(20) + 2 * StdDev
bollinger_lowerband = EMA(20) - 2 * StdDev

# è‚¯ç‰¹çº³é€šé“ï¼ˆKeltner Channelï¼‰
kc_upperband = EMA(20) + ATR(10)
kc_middleband = EMA(20)
kc_lowerband = EMA(20) - ATR(10)

# æŒ‡æ•°ç§»åŠ¨å¹³å‡çº¿ï¼ˆEMAï¼‰
ema9, ema20, ema50, ema200

# ATRï¼ˆçœŸå®æ³¢å¹…ï¼‰- ç”¨äºåŠ¨æ€æ­¢æŸ
atr = Average True Range (14æœŸ)
```

---

## ğŸ” æ ¸å¿ƒç®—æ³•è¯¦è§£

### **1. æ¢è½´ç‚¹æ£€æµ‹ï¼ˆPivot Pointsï¼‰**

**ä½ç½®ï¼š** `pivot_points()` å‡½æ•°ï¼ˆ667-720è¡Œï¼‰

**ä½œç”¨ï¼š** è¯†åˆ«ä»·æ ¼çš„å±€éƒ¨é«˜ç‚¹å’Œä½ç‚¹

**ç®—æ³•ï¼š**
```python
window = 5  # å·¦å³å„5æ ¹Kçº¿

# æ£€æµ‹é«˜ç‚¹
if close[i] > close[i-5:i] and close[i] > close[i+1:i+6]:
    pivot_highs[i] = close[i]  # æ ‡è®°ä¸ºæ¢è½´é«˜ç‚¹

# æ£€æµ‹ä½ç‚¹
if close[i] < close[i-5:i] and close[i] < close[i+1:i+6]:
    pivot_lows[i] = close[i]   # æ ‡è®°ä¸ºæ¢è½´ä½ç‚¹
```

**å¯è§†åŒ–ï¼š**
```
ä»·æ ¼: 100 â†’ 105 â†’ 110 â†’ 108 â†’ 106 â†’ 104 â†’ 102
           â†‘
         æ¢è½´é«˜ç‚¹ï¼ˆ110æ˜¯å‰å5æ ¹Kçº¿çš„æœ€é«˜ç‚¹ï¼‰
```

---

### **2. èƒŒç¦»æ£€æµ‹ï¼ˆDivergence Finderï¼‰**

**ä½ç½®ï¼š** `divergence_finder_dataframe()` å‡½æ•°ï¼ˆ528-632è¡Œï¼‰

**æ ¸å¿ƒé€»è¾‘ï¼š**

#### **çœ‹æ¶¨èƒŒç¦»æ£€æµ‹ï¼ˆBullishï¼‰** ğŸŸ¢

```python
def bullish_divergence_finder(dataframe, indicator, low_iterator, index):
    if å½“å‰æ˜¯æ¢è½´ä½ç‚¹:
        current_pivot = å½“å‰æ¢è½´
        # æŸ¥æ‰¾å‰5ä¸ªæ¢è½´ä½ç‚¹
        for prev_pivot in å‰5ä¸ªæ¢è½´ä½ç‚¹:
            # æ¡ä»¶1ï¼šä»·æ ¼èµ°ä½ï¼ŒæŒ‡æ ‡èµ°é«˜ï¼ˆç»å…¸èƒŒç¦»ï¼‰
            if (ä»·æ ¼[current] < ä»·æ ¼[prev] and æŒ‡æ ‡[current] > æŒ‡æ ‡[prev]):
                return (prev_pivot, current_pivot)

            # æ¡ä»¶2ï¼šä»·æ ¼èµ°é«˜ï¼ŒæŒ‡æ ‡èµ°ä½ï¼ˆéšè—èƒŒç¦»ï¼‰
            if (ä»·æ ¼[current] > ä»·æ ¼[prev] and æŒ‡æ ‡[current] < æŒ‡æ ‡[prev]):
                return (prev_pivot, current_pivot)
```

**æ£€æµ‹æ­¥éª¤ï¼š**
1. æ‰¾åˆ°å½“å‰æ¢è½´ä½ç‚¹
2. å‘å‰æŸ¥æ‰¾æœ€å¤š5ä¸ªå†å²æ¢è½´ä½ç‚¹
3. æ¯”è¾ƒä»·æ ¼å’ŒæŒ‡æ ‡çš„èµ°åŠ¿
4. å¦‚æœå‘ç°èƒŒç¦»ï¼Œè®°å½•å¹¶ç»˜åˆ¶è¿æ¥çº¿

#### **çœ‹è·ŒèƒŒç¦»æ£€æµ‹ï¼ˆBearishï¼‰** ğŸ”´

```python
def bearish_divergence_finder(dataframe, indicator, high_iterator, index):
    if å½“å‰æ˜¯æ¢è½´é«˜ç‚¹:
        current_pivot = å½“å‰æ¢è½´
        for prev_pivot in å‰5ä¸ªæ¢è½´é«˜ç‚¹:
            # æ¡ä»¶1ï¼šä»·æ ¼èµ°é«˜ï¼ŒæŒ‡æ ‡èµ°ä½ï¼ˆç»å…¸èƒŒç¦»ï¼‰
            if (ä»·æ ¼[current] > ä»·æ ¼[prev] and æŒ‡æ ‡[current] < æŒ‡æ ‡[prev]):
                return (prev_pivot, current_pivot)

            # æ¡ä»¶2ï¼šä»·æ ¼èµ°ä½ï¼ŒæŒ‡æ ‡èµ°é«˜ï¼ˆéšè—èƒŒç¦»ï¼‰
            if (ä»·æ ¼[current] < ä»·æ ¼[prev] and æŒ‡æ ‡[current] > æŒ‡æ ‡[prev]):
                return (prev_pivot, current_pivot)
```

---

### **3. å¤šæŒ‡æ ‡èƒŒç¦»ç»Ÿè®¡**

**ä½ç½®ï¼š** `add_divergences()` å‡½æ•°ï¼ˆ519-526è¡Œï¼‰

ç­–ç•¥å¯¹ **11 ä¸ªæŒ‡æ ‡** éƒ½è¿›è¡ŒèƒŒç¦»æ£€æµ‹ï¼š

```python
add_divergences(dataframe, 'rsi')    # RSI èƒŒç¦»
add_divergences(dataframe, 'stoch')  # éšæœºæŒ‡æ ‡èƒŒç¦»
add_divergences(dataframe, 'roc')    # ROC èƒŒç¦»
add_divergences(dataframe, 'uo')     # ç»ˆææŒ¯è¡å™¨èƒŒç¦»
add_divergences(dataframe, 'ao')     # åŠ¨é‡æŒ¯è¡å™¨èƒŒç¦»
add_divergences(dataframe, 'macd')   # MACD èƒŒç¦»
add_divergences(dataframe, 'cci')    # CCI èƒŒç¦»
add_divergences(dataframe, 'cmf')    # CMF èƒŒç¦»
add_divergences(dataframe, 'obv')    # OBV èƒŒç¦»
add_divergences(dataframe, 'mfi')    # MFI èƒŒç¦»
add_divergences(dataframe, 'adx')    # ADX èƒŒç¦»
```

**æ±‡æ€»ç»Ÿè®¡ï¼š**
- `total_bullish_divergences_count`ï¼šçœ‹æ¶¨èƒŒç¦»æ•°é‡
- `total_bullish_divergences_names`ï¼šå“ªäº›æŒ‡æ ‡å‡ºç°èƒŒç¦»ï¼ˆå¦‚ "RSI<br>MACD<br>CCI"ï¼‰
- `total_bearish_divergences_count`ï¼šçœ‹è·ŒèƒŒç¦»æ•°é‡
- `total_bearish_divergences_names`ï¼šçœ‹è·ŒèƒŒç¦»æŒ‡æ ‡åç§°

---

## ğŸ¯ å…¥åœºæ¡ä»¶ï¼ˆBuy Signalï¼‰

**ä½ç½®ï¼š** `populate_entry_trend()` å‡½æ•°ï¼ˆ383-409è¡Œï¼‰

### **å…¥åœºé€»è¾‘ï¼š**

```python
ä¹°å…¥ if (
    # æ¡ä»¶1ï¼šæ£€æµ‹åˆ°çœ‹æ¶¨èƒŒç¦»ï¼ˆæ»å1æ ¹Kçº¿ç¡®è®¤ï¼‰
    total_bullish_divergences.shift() > 0

    # æ¡ä»¶2ï¼šé€šé“è¿‡æ»¤ - ä»·æ ¼ä¸èƒ½åœ¨æç«¯ä½ç½®
    & two_bands_check(dataframe)

    # æ¡ä»¶3ï¼šæœ‰æˆäº¤é‡
    & volume > 0
)
```

### **æ¡ä»¶è¯¦è§£ï¼š**

#### **1. çœ‹æ¶¨èƒŒç¦»ç¡®è®¤**
```python
dataframe['total_bullish_divergences'].shift() > 0
```
- å‰ä¸€æ ¹Kçº¿æ£€æµ‹åˆ°çœ‹æ¶¨èƒŒç¦»
- ä½¿ç”¨ `shift()` é¿å…æœªæ¥æ•°æ®æ³„éœ²

#### **2. é€šé“è¿‡æ»¤ï¼ˆtwo_bands_checkï¼‰**

**ä½ç½®ï¼š** `two_bands_check()` å‡½æ•°ï¼ˆ466-473è¡Œï¼‰

```python
def two_bands_check(dataframe):
    # æ£€æµ‹æ˜¯å¦åŒæ—¶ç©¿é€KCé€šé“ä¸Šä¸‹è½¨ï¼ˆæç«¯æ³¢åŠ¨ï¼‰
    extreme_volatility = (
        (low < kc_lowerband) & (high > kc_upperband)
    )
    # è¿”å›éæç«¯æ³¢åŠ¨çš„æƒ…å†µï¼ˆ~è¡¨ç¤ºå–åï¼‰
    return ~extreme_volatility
```

**å«ä¹‰ï¼š**
- âœ… **å…è®¸**ï¼šä»·æ ¼åœ¨æ­£å¸¸èŒƒå›´å†…
- âŒ **æ‹’ç»**ï¼šä»·æ ¼åŒæ—¶è§¦åŠKCé€šé“ä¸Šä¸‹è½¨ï¼ˆå¼‚å¸¸æ³¢åŠ¨ï¼Œå¯èƒ½æ˜¯å‡ä¿¡å·ï¼‰

---

## ğŸšª ç¦»åœºæ¡ä»¶ï¼ˆSell Signalï¼‰

ç­–ç•¥ä½¿ç”¨ **å¤šé‡ç¦»åœºæœºåˆ¶**ï¼š

### **1. æ‰‹åŠ¨ç¦»åœºä¿¡å·ï¼ˆå‡ ä¹ä¸è§¦å‘ï¼‰**

```python
def populate_exit_trend(dataframe, metadata):
    # å®é™…ä¸Šæ€»æ˜¯è¿”å› 0ï¼ˆä¸å–å‡ºï¼‰
    dataframe.loc[(volume > 0), 'exit_long'] = 0
```

### **2. ROI åˆ†é˜¶æ®µæ­¢ç›ˆ** ğŸ’°

```python
minimal_roi = {
    "0": 0.05,      # ç«‹å³å–å‡ºå¦‚æœåˆ©æ¶¦ â‰¥5%
    "30": 0.03,     # 30åˆ†é’Ÿåå–å‡ºå¦‚æœåˆ©æ¶¦ â‰¥3%
    "60": 0.02,     # 60åˆ†é’Ÿåå–å‡ºå¦‚æœåˆ©æ¶¦ â‰¥2%
    "300": 0.01,    # 300åˆ†é’Ÿåå–å‡ºå¦‚æœåˆ©æ¶¦ â‰¥1%
}
```

**å®é™…æ•ˆæœï¼š**
- å¼€ä»“åä»»ä½•æ—¶åˆ»åˆ©æ¶¦è¾¾åˆ° 5%ï¼Œç«‹å³æ­¢ç›ˆ
- æŒä»“ 30 åˆ†é’Ÿåï¼Œåˆ©æ¶¦ 3% å°±å¯ä»¥æ­¢ç›ˆ
- æŒä»“ 5 å°æ—¶åï¼Œåªè¦ç›ˆåˆ© 1% å°±æ­¢ç›ˆ

### **3. åŠ¨æ€æ­¢æŸï¼ˆcustom_stoplossï¼‰** ğŸ›‘

**ä½ç½®ï¼š** `custom_stoploss()` å‡½æ•°ï¼ˆ442-460è¡Œï¼‰

```python
def custom_stoploss(pair, trade, current_time, current_rate, current_profit):
    # æ‰¾åˆ°ä¹°å…¥é‚£æ ¹Kçº¿
    buy_candle = æ‰¾åˆ°å¼€ä»“Kçº¿

    # åŠ¨æ€æ­¢æŸ = ä¹°å…¥Kçº¿çš„æœ€ä½ä»· - ATR
    stoploss = buy_candle['low'] - buy_candle['atr']

    # è½¬æ¢ä¸ºç™¾åˆ†æ¯”
    return (stoploss / current_rate) - 1
```

**ç¤ºä¾‹è®¡ç®—ï¼š**
```
ä¹°å…¥ä»·æ ¼: 100 USDT
ä¹°å…¥Kçº¿æœ€ä½ä»·: 98 USDT
ATR: 2 USDT
æ­¢æŸä»· = 98 - 2 = 96 USDT
æ­¢æŸç™¾åˆ†æ¯” = (96 / 100) - 1 = -4%
```

**ä¼˜ç‚¹ï¼š**
- âœ… æ ¹æ®å¸‚åœºæ³¢åŠ¨ï¼ˆATRï¼‰åŠ¨æ€è°ƒæ•´
- âœ… æ³¢åŠ¨å¤§æ—¶æ­¢æŸå®½æ¾ï¼Œæ³¢åŠ¨å°æ—¶æ­¢æŸç´§å¯†
- âœ… åŸºäºæŠ€æœ¯ç»“æ„ï¼ˆæ”¯æ’‘ä½ï¼‰è€Œéå›ºå®šç™¾åˆ†æ¯”

### **4. è¿½è¸ªæ­¢æŸï¼ˆTrailing Stopï¼‰** ğŸ“ˆ

```python
trailing_stop = True
trailing_stop_positive = 0.007          # ç›ˆåˆ©åä¿æŒ0.7%è·ç¦»
trailing_stop_positive_offset = 0.015   # ç›ˆåˆ©1.5%æ‰å¯åŠ¨
trailing_only_offset_is_reached = True  # å¿…é¡»è¾¾åˆ°offset
```

**å·¥ä½œæµç¨‹ï¼š**
```
å¼€ä»“ä»·: 100 USDT
ä»·æ ¼æ¶¨åˆ° 101.5 USDT (åˆ©æ¶¦ +1.5%) â†’ å¯åŠ¨è¿½è¸ªæ­¢æŸ
æ­¢æŸä»·è®¾åœ¨: 101.5 * (1 - 0.007) = 100.79 USDT

ä»·æ ¼ç»§ç»­æ¶¨åˆ° 105 USDT â†’ æ­¢æŸä»·ä¸Šç§»
æ­¢æŸä»·æ›´æ–°ä¸º: 105 * (1 - 0.007) = 104.27 USDT

ä»·æ ¼å›è½åˆ° 104.2 USDT â†’ è§¦å‘æ­¢æŸï¼Œå¹³ä»“
æœ€ç»ˆåˆ©æ¶¦: +4.2%
```

---

## ğŸ“Š å›æµ‹ç»“æœåˆ†æï¼ˆLINK/USDTï¼‰

### **æµ‹è¯•å‚æ•°ï¼š**
- **æ—¶é—´èŒƒå›´**ï¼š2024-10-22 åˆ° 2025-10-21ï¼ˆ1å¹´ï¼‰
- **äº¤æ˜“å¯¹**ï¼šLINK/USDTï¼ˆç°è´§ï¼‰
- **æ—¶é—´å‘¨æœŸ**ï¼š15åˆ†é’Ÿ
- **åˆå§‹èµ„é‡‘**ï¼š1000 USDT

### **æ ¸å¿ƒæŒ‡æ ‡ï¼š**

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| **æ€»æ”¶ç›Šç‡** | **+133.94%** | ğŸ‰ å¹´åŒ–æ”¶ç›Š |
| **æœ€ç»ˆä½™é¢** | 2339.38 USDT | æœ¬é‡‘ç¿»å€+ |
| **äº¤æ˜“æ¬¡æ•°** | 1047 ç¬” | å¹³å‡æ¯å¤© 2.88 ç¬” |
| **èƒœç‡** | 62.3% | 652èƒœ/395äº |
| **å¹³å‡æŒä»“** | 3å°æ—¶18åˆ† | çŸ­çº¿ç­–ç•¥ |
| **æœ€å¤§å›æ’¤** | 5.64% | âœ… éå¸¸å° |
| **Sharpe Ratio** | 9.28 | ğŸŒŸ æä¼˜ç§€ |
| **Sortino Ratio** | 20.35 | ğŸŒŸ é£é™©è°ƒæ•´åæ”¶ç›Šæä½³ |
| **ç›ˆäºæ¯”** | 1.45 | å¹³å‡ç›ˆåˆ© > å¹³å‡äºæŸ |

### **ç¦»åœºåŸå› åˆ†å¸ƒï¼š**

| ç¦»åœºæ–¹å¼ | æ¬¡æ•° | å æ¯” | å¹³å‡æ”¶ç›Š | æ€»æ”¶ç›Š |
|---------|------|------|---------|--------|
| **ROI æ­¢ç›ˆ** | 265 | 25.2% | **+1.52%** | +2220 USDT âœ… |
| **è¿½è¸ªæ­¢æŸ** | 781 | 74.6% | **-0.18%** | -880 USDT |
| **æ‰‹åŠ¨ä¿¡å·** | 1 | 0.1% | -0.09% | -0.7 USDT |
| **Force Exit** | 0 | 0% | - | - |

### **å…³é”®æ´å¯Ÿï¼š**

#### âœ… **ç­–ç•¥ä¼˜åŠ¿ï¼š**

1. **é«˜èƒœç‡ ROI**ï¼š
   - 265ç¬”è¾¾åˆ°æ­¢ç›ˆç›®æ ‡ï¼ˆ1%-5%ï¼‰
   - 100%èƒœç‡ï¼ˆå…¨éƒ¨ç›ˆåˆ©ï¼‰
   - è´¡çŒ®äº† +2220 USDT åˆ©æ¶¦

2. **è¿½è¸ªæ­¢æŸä¿æŠ¤**ï¼š
   - 781ç¬”ç”±è¿½è¸ªæ­¢æŸç¦»åœº
   - å¹³å‡åªäº -0.18%ï¼ˆéå¸¸å°ï¼‰
   - è™½ç„¶æœ‰ 394 ç¬”äºæŸï¼Œä½†æ€»ä½“åªäº -880 USDT

3. **é£é™©æ§åˆ¶æä½³**ï¼š
   - æœ€å¤§å›æ’¤ä»… 5.64%
   - Sharpe 9.28ï¼ˆ>3å°±ç®—ä¼˜ç§€ï¼Œ>5æä¼˜ç§€ï¼‰
   - å›æ’¤æŒç»­æ—¶é—´çŸ­ï¼ˆ15å¤©ï¼‰

4. **é«˜é¢‘äº¤æ˜“**ï¼š
   - æ—¥å‡ 2.88 ç¬”äº¤æ˜“
   - æŠ“ä½çŸ­æœŸåè½¬æœºä¼š
   - å¿«è¿›å¿«å‡º

#### âš ï¸ **æ½œåœ¨é—®é¢˜ï¼š**

1. **è¿½è¸ªæ­¢æŸè¿‡æ—©**ï¼š
   - 74.6%çš„äº¤æ˜“ç”±è¿½è¸ªæ­¢æŸç¦»åœº
   - å¯èƒ½é”™å¤±æ›´å¤§æ¶¨å¹…
   - å»ºè®®ï¼šè°ƒæ•´ `trailing_stop_positive_offset` ä» 1.5% â†’ 2.5%

2. **äº¤æ˜“é¢‘ç‡é«˜**ï¼š
   - æ—¥å‡3ç¬”äº¤æ˜“ï¼Œæ‰‹ç»­è´¹å¼€é”€è¾ƒå¤§
   - å‡è®¾0.1%æ‰‹ç»­è´¹ï¼Œ1047ç¬” Ã— 2ï¼ˆä¹°å–ï¼‰Ã— 0.1% = çº¦ 2% åˆ©æ¶¦è¢«æ‰‹ç»­è´¹åƒæ‰

3. **å•ä¸€å¸ç§**ï¼š
   - åªåœ¨ LINK ä¸Šæµ‹è¯•
   - éœ€è¦åœ¨å¤šä¸ªå¸ç§ä¸ŠéªŒè¯ç¨³å®šæ€§

---

## ğŸ¨ å¯è§†åŒ–é…ç½®

ç­–ç•¥æä¾›äº†å¼ºå¤§çš„å›¾è¡¨åŠŸèƒ½ï¼ˆPlotConfigç±»ï¼‰ï¼š

### **ä¸»å›¾æ˜¾ç¤ºï¼š**
- å¸ƒæ—å¸¦ï¼ˆä¸Šä¸‹è½¨ + é˜´å½±å¡«å……ï¼‰
- è‚¯ç‰¹çº³é€šé“ï¼ˆä¸Šä¸­ä¸‹è½¨ï¼‰
- EMA 9, 20, 50, 200
- æ¢è½´é«˜ä½ç‚¹ï¼ˆé’»çŸ³æ ‡è®°ï¼‰
- **èƒŒç¦»æ ‡è®°**ï¼š
  - ğŸŸ¢ ç»¿è‰²è±å½¢ = çœ‹æ¶¨èƒŒç¦»
  - ğŸ”´ çº¢è‰²è±å½¢ = çœ‹è·ŒèƒŒç¦»
  - è™šçº¿è¿æ¥æ¢è½´ç‚¹

### **å‰¯å›¾æ˜¾ç¤ºï¼š**
- ATRï¼ˆçœŸå®æ³¢å¹…ï¼‰

---

## ğŸ’¡ ç­–ç•¥æ”¹è¿›å»ºè®®

### **1. èƒŒç¦»è´¨é‡ç­›é€‰**

å½“å‰ç­–ç•¥å¯¹æ‰€æœ‰èƒŒç¦»ä¸€è§†åŒä»ï¼Œå¯ä»¥å¢åŠ æƒé‡ï¼š

```python
# é«˜æƒé‡æŒ‡æ ‡ï¼ˆå‡†ç¡®æ€§é«˜ï¼‰
high_weight = ['rsi', 'macd', 'mfi']

# ä¸­æƒé‡æŒ‡æ ‡
mid_weight = ['stoch', 'cci', 'ao']

# ä½æƒé‡æŒ‡æ ‡
low_weight = ['roc', 'uo', 'adx']

# åªæœ‰é«˜æƒé‡æŒ‡æ ‡å‡ºç° â‰¥2 ä¸ªèƒŒç¦»æ‰å…¥åœº
if count_divergences(high_weight) >= 2:
    enter_long = 1
```

### **2. è¶‹åŠ¿è¿‡æ»¤**

æ·»åŠ å¤§è¶‹åŠ¿åˆ¤æ–­ï¼Œé¿å…é€†åŠ¿äº¤æ˜“ï¼š

```python
# åªåœ¨ä¸Šå‡è¶‹åŠ¿ä¸­åšå¤š
trend_filter = (ema50 > ema200) & (close > ema50)
enter_long = bullish_divergence & trend_filter
```

### **3. åŠ¨æ€ROI**

æ ¹æ®å¸‚åœºæ³¢åŠ¨è°ƒæ•´æ­¢ç›ˆï¼š

```python
def custom_exit(self, trade, current_profit):
    atr_pct = atr / close  # ATRç™¾åˆ†æ¯”

    if atr_pct > 0.03:  # é«˜æ³¢åŠ¨
        target_profit = 0.08  # 8%æ­¢ç›ˆ
    else:  # ä½æ³¢åŠ¨
        target_profit = 0.03  # 3%æ­¢ç›ˆ

    return current_profit > target_profit
```

### **4. å¤šæ—¶é—´å‘¨æœŸç¡®è®¤**

```python
# æ£€æŸ¥æ›´é«˜æ—¶é—´å‘¨æœŸï¼ˆå¦‚1å°æ—¶ï¼‰çš„èƒŒç¦»
informative_1h = get_pair_dataframe(pair, '1h')
add_divergences(informative_1h, 'rsi')

# 15åˆ†é’Ÿå’Œ1å°æ—¶åŒæ—¶å‡ºç°èƒŒç¦»ï¼Œä¿¡å·æ›´å¼º
strong_signal = (
    divergence_15m > 0 &
    divergence_1h > 0
)
```

---

## ğŸ“š å…³é”®å‡½æ•°é€ŸæŸ¥è¡¨

| å‡½æ•° | ä½ç½® | åŠŸèƒ½ |
|------|------|------|
| `populate_indicators()` | 260-381 | è®¡ç®—æ‰€æœ‰æŠ€æœ¯æŒ‡æ ‡ |
| `populate_entry_trend()` | 383-409 | ç”Ÿæˆä¹°å…¥ä¿¡å· |
| `populate_exit_trend()` | 411-423 | ç”Ÿæˆå–å‡ºä¿¡å·ï¼ˆå‡ ä¹ä¸ç”¨ï¼‰ |
| `custom_stoploss()` | 442-460 | åŠ¨æ€æ­¢æŸé€»è¾‘ |
| `pivot_points()` | 667-720 | æ£€æµ‹æ¢è½´é«˜ä½ç‚¹ |
| `divergence_finder_dataframe()` | 528-632 | æ ¸å¿ƒèƒŒç¦»æ£€æµ‹ |
| `bullish_divergence_finder()` | 648-660 | çœ‹æ¶¨èƒŒç¦»æŸ¥æ‰¾ |
| `bearish_divergence_finder()` | 634-646 | çœ‹è·ŒèƒŒç¦»æŸ¥æ‰¾ |
| `two_bands_check()` | 466-473 | é€šé“è¿‡æ»¤ |
| `emaKeltner()` | 734-741 | è®¡ç®—è‚¯ç‰¹çº³é€šé“ |

---

## ğŸ¯ æ€»ç»“

### **ç­–ç•¥ç‰¹ç‚¹ï¼š**

âœ… **ä¼˜åŠ¿ï¼š**
1. å¤šæŒ‡æ ‡èƒŒç¦»ï¼Œä¿¡å·å¯é æ€§é«˜
2. é£é™©æ§åˆ¶ä¸¥æ ¼ï¼ˆåŠ¨æ€æ­¢æŸ + è¿½è¸ªæ­¢æŸï¼‰
3. å›æµ‹è¡¨ç°ä¼˜å¼‚ï¼ˆ133% å¹´åŒ–æ”¶ç›Šï¼Œ5.64% å›æ’¤ï¼‰
4. é«˜é¢‘çŸ­çº¿ï¼Œèµ„é‡‘åˆ©ç”¨ç‡é«˜
5. å¯è§†åŒ–å®Œå–„ï¼Œä¾¿äºåˆ†æ

âš ï¸ **å±€é™ï¼š**
1. èƒŒç¦»æ£€æµ‹è®¡ç®—é‡å¤§ï¼ˆ11ä¸ªæŒ‡æ ‡ï¼‰
2. è¿½è¸ªæ­¢æŸå¯èƒ½è¿‡æ—©ç¦»åœº
3. ä¾èµ–æ¢è½´ç‚¹æ£€æµ‹ï¼Œå¯¹å™ªéŸ³æ•æ„Ÿ
4. å•è¾¹åšå¤šç­–ç•¥ï¼ˆæœªä½¿ç”¨çœ‹è·ŒèƒŒç¦»åšç©ºï¼‰

### **é€‚ç”¨åœºæ™¯ï¼š**
- âœ… éœ‡è¡å¸‚ã€åŒºé—´å¸‚
- âœ… 15åˆ†é’ŸçŸ­çº¿äº¤æ˜“
- âœ… æ³¢åŠ¨é€‚ä¸­çš„å¸ç§
- âŒ å¼ºè¶‹åŠ¿å¸‚åœºï¼ˆå¯èƒ½é¢‘ç¹æ­¢æŸï¼‰
- âŒ ä½æµåŠ¨æ€§å¸ç§ï¼ˆæ¢è½´ç‚¹ä¸å‡†ç¡®ï¼‰

### **æ¨èé…ç½®ï¼š**
- **æ—¶é—´å‘¨æœŸ**ï¼š15mï¼ˆå·²ä¼˜åŒ–ï¼‰
- **æœ€å¤§æŒä»“**ï¼š3-5ä¸ª
- **èµ„é‡‘ç®¡ç†**ï¼šæ¯ç¬”2-5%ä»“ä½
- **å¸ç§é€‰æ‹©**ï¼šä¸»æµå¸ï¼ˆBTC/ETH/LINKç­‰ï¼‰
